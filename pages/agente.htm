url = "/agente"
layout = "default"
title = "Agente"

[signUp]
redirect = "/elenco-clienti"

[InfoAgente]
urlPaginaElencoClienti = "elenco-clienti"
urlPaginaCatalogo = "store"
==
<?php
function onStart(){
   
}
?>
==
{%component 'InfoAgente' %}

{% if displayType=="1" %}
<div class="section">
    <div class="container">
    <div class="col-lg-12 intestazione home-agente">
    <h3>{{'tecnotrade.mallextraadmin::lang.home_agent' | trans}} - <span>{{'tecnotrade.mallextraadmin::lang.welcome_agent' | trans}}</span> {{agenteInSessione.nome}} {{agenteInSessione.cognome}}</h3>
    </div>
    
</div>
<div class="section">
    <div class="container">
        <div class="mall-signup">
            <div class="mall-signup__signin col-12 col-lg-6">
                
                {% if agente_is_impersonate == "1" %}
                <div id="impersonate_user_info">
                        {{'tecnotrade.mallextraadmin::lang.used_user' | trans}}: {{user_impersonate.company}} {{ user_impersonate.id}}
                        <br>
                        <form data-request="onLogoutImpersonateUtente" data-request-validate data-request-flash>
                            <input type="hidden" name="idusertologout" value="{{user_impersonate.id}}">
                            <input type="hidden" name="urllistautenti" value="{{linkToListClienti}}">
                            
                                <div class="mall-form-actions">
                                <button class="mall-btn mall-btn--primary" type="submit">
                                    {{ 'tecnotrade.mallextraadmin::lang.unlink_user' | trans }}
                                </button>
                            </div>
                        </form>
                        
                    
                </div>
                {% endif %}
            
                <div>
                    <div id="goto-page-clienti">
                        <a class="button" href="/{{linkToListClienti}}">{{'tecnotrade.mallextraadmin::lang.goto_customer_list' | trans}}:</a>
                    </div>
                </div>
                
                <div id="div-update-password">
                    <p>Modifica la tua password di accesso</p>
                    <form data-request="onUpdatePasswordAgente" data-request-validate data-request-flash >
                        <input type="hidden" name="idcurrentagente" value="{{agenteInSessione.id}}">
                        <div class="mall-two-fields">
                            <div class="mall-form-control">
                                <label for="agente_password">{{ 'offline.mall::frontend.form.password' | trans }}</label>
                                <input id="agente_password" type="password" name="agente_password">
                                <div data-validate-for="agente_password"></div>
                            </div>
                            <div class="mall-form-control">
                                <label for="agente_password_repeat">{{ 'offline.mall::frontend.form.password_repeat' | trans }}</label>
                                <input id="agente_password_repeat" type="password" name="agente_password_repeat">
                                <div data-validate-for="agente_password_repeat"></div>
                            </div>
                        </div>
                        <div class="mall-form-actions">
                            <button class="mall-btn mall-btn--primary" type="submit" data-request-data="redirect:1">
                                {{ 'tecnotrade.mallextraadmin::lang.mod_password_agente' | trans }}
                            </button>
                        </div>
                    </form>
                   
                </div>
                <div>
                    <form data-request="onLogoutAgente" data-request-validate data-request-flash>
                        <input type="hidden" name="idagentetologout" value="{{agenteInSessione.id}}">
                        <div class="mall-form-actions">
                            <button class="mall-btn mall-btn--primary" type="submit">
                                {{ 'tecnotrade.mallextraadmin::lang.logout_agente' | trans }}
                            </button>
                        </div>
                    </form>
                </div>
                            
                
                
            </div>
            <div class="mall-signup__signup mall-signup-form col-12 col-lg-6">
                <form data-request="onSignup" data-request-validate data-request-flash>
    <h3 class="mall-signup__heading">{{ 'tecnotrade.mallextraadmin::lang.register_new_buyer' | trans }}</h3>

    <div class="mall-form-control">
        <label for="signup_email">{{ 'offline.mall::frontend.form.email' | trans }}</label>
        <input id="signup_email" type="email" placeholder="email@email.com" name="email">
        <div data-validate-for="email"></div>
    </div>
    <div class="mall-two-fields">
        <div class="mall-form-control">
            <label for="firstname">{{ 'offline.mall::frontend.form.firstname' | trans }}</label>
            <input id="firstname" type="text" name="firstname">
            <div data-validate-for="firstname"></div>
        </div>
        <div class="mall-form-control">
            <label for="lastname">{{ 'offline.mall::frontend.form.lastname' | trans }}</label>
            <input id="lastname" type="text" name="lastname">
            <div data-validate-for="lastname"></div>
        </div>
    </div>
    <div class="mall-two-fields">
        <div class="mall-form-control">
            <label for="partitaiva">{{'tecnotrade.mallextraadmin::lang.vat'| trans}}</label>
            <input class="form-control" id="partitaiva" type="text" name="partitaiva" value="{{ __SELF__.user.partitaiva }}">
            <div data-validate-for="partitaiva"></div>
        </div>
        <div class="mall-form-control">
            <label for="codicefiscale">{{'tecnotrade.mallextraadmin::lang.fiscal_code'| trans}}</label>
            <input class="form-control" id="codicefiscale" type="text" name="codicefiscale" value="{{ __SELF__.user.codicefiscale }}">
        </div>
    </div>

    <div class="mall-form-control">
            <label for="phone">{{'tecnotrade.mallextraadmin::lang.phone'| trans}}</label>
            <input class="form-control" id="phone" type="phone" name="phone">
       <div data-validate-for="phone"></div>
    </div>

   

    <div class="mall-signup__password-inputs">
        <div class="mall-two-fields">
            <div class="mall-form-control">
                <label for="signup_password">{{ 'offline.mall::frontend.form.password' | trans }}</label>
                <input id="signup_password" type="password" name="password">
                <div data-validate-for="password"></div>
            </div>
            <div class="mall-form-control">
                <label for="password_repeat">{{ 'offline.mall::frontend.form.password_repeat' | trans }}</label>
                <input id="password_repeat" type="password" name="password_repeat">
                <div data-validate-for="password_repeat"></div>
            </div>
        </div>
    </div>

    <div class="mall-signup__billing-address">
        <h3 class="mall-signup__subheading">
            {{ 'offline.mall::frontend.address' | trans }}
        </h3>

        {% partial __SELF__ ~ '::addressform' type='billing' %}

        <div class="mall-signup__shipping-address-option">
            <label class="mall-checkbox">
                <input class="js-mall-toggle-shipping-address"
                       type="checkbox"
                       name="use_different_shipping" value="1">
                <span>
                    {{ 'offline.mall::frontend.signup.different_address' | trans }}
                </span>
            </label>
        </div>
    </div>

    <div class="mall-shipping-address" style="display: none">
        <h3 class="mall-signup__subheading">
            {{ 'offline.mall::frontend.shipping_address' | trans }}
        </h3>
        {% partial __SELF__ ~ '::addressform' type='shipping' %}
    </div>

    {% partial __SELF__ ~ '::terms' %}

    <div class="mall-form-actions">
        <button class="mall-btn mall-btn-signup mall-btn--primary mall-btn--full" type="submit">
            {{ 'offline.mall::frontend.proceed_to_checkout' | trans }}
        </button>
    </div>
</form>

            </div>
        </div>
    {% partial __SELF__ ~ '::scripts' %}
    </div>
</div>

{%endif%}
